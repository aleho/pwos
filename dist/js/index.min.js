var PWOS_VERSION=1515196728,PWOS_DATE="20180106_005848";"undefined"==typeof window&&(exports.PWOS_VERSION=PWOS_VERSION,exports.PWOS_DATE=PWOS_DATE);var ScrollMonitor=function(t){t&&(this.uid=++ScrollMonitor.uid,this.$element=t)};ScrollMonitor.uid=0,ScrollMonitor.prototype.isMonitoring=!1,ScrollMonitor.prototype.uid=0,ScrollMonitor.prototype.$element=null,ScrollMonitor.prototype._isScrolledTo=function(){let t=this.$element.offset().top;return $(window).scrollTop()+$(window).height()>t},ScrollMonitor.prototype.start=function(){this.uid&&!this.isMonitoring&&(this.isMonitoring=!0,$(window).on("scroll.lazyload-"+this.uid,function(){this._isScrolledTo(this.$element)&&(this.stop(),$(window).trigger("scrolled-to",[this.$element,this]))}.bind(this)))},ScrollMonitor.prototype.stop=function(){this.uid&&this.isMonitoring&&(this.isMonitoring=!1,$(window).off("scroll.lazyload-"+this.uid))};var PWoSDb=function(){let t=function(t){this.data=t};t.prototype.filter=function*(t){let e=(t=t||{}).title?new RegExp(t.title,"i"):null,o=t.url?new RegExp(t.url,"i"):null;for(let t of this.data)(!e||t.title&&t.title.match(e))&&(!o||t.url&&t.url.match(o))&&(yield t)};let e=null;return{load:function(o){let i=$.Deferred();return o?($.ajax({type:"GET",dataType:"json",url:o}).done(function(o){o?(e=new t(o),i.resolve(e)):i.reject()}).fail(function(){e=null,i.reject()}),i.promise()):(i.reject(),i.promise())}}}(),PWoS=function(t){const e=30,o=5,i=16,n=3,l="data/db.json?v="+PWOS_VERSION,r=["alpha","digit","space","special","case","changeable"],a=t("#sites-list"),s=t("#site-template tr");t(".filter");let d,u,c,f,p,h;function g(t){let e=s.clone().appendTo(a),l=0;e.find(".title").text(t.title),e.find("a.url").attr("href",t.url).find(".url-text").text(t.url.replace(/^https?\:\/\//i,"")),e.find(".attr.min").text(t.pw.min).toggleClass("text-danger",t.pw.min<=o),e.find(".attr.max").text(t.pw.max).toggleClass("text-danger",t.pw.max<=i),t.pw.min<=o&&l++,t.pw.max<=i&&l++;for(let o of r){let i,n=e.find(".attr."+o);(i=t.pw[o]?n.find("i.attr-"+t.pw[o]):n.find("i.attr-false"))&&i.length&&(i.removeClass("hidden"),l++)}t.scoreplus&&(l+=t.scoreplus),e.find(".attr-score").text(l).toggleClass("text-danger",l>=n)}function w(t){t=t||null,f=d.filter(t),a.empty(),S()}function S(){if(!f)return;let t=f.next(),o=0;for(;t&&!t.done&&t.value&&o<e;)g(t.value),t=f.next(),o++;h.addClass("hidden"),p.toggleClass("invisible",t.done),p.toggleClass("invisible",t.done),t.done?u.stop():u.start()}return{init:function(){t("#last-update").text(new Date(1e3*PWOS_VERSION)),t(".filter").keypress(function(e){13==e.which&&function(t){let e=t.data("filter"),o=t.val();!e||o.length<2&&0!=o.length||((c={})[e]=o,w(c))}(t(this))}),t(window).on("scrolled-to",function(t,e){h.removeClass("hidden"),setTimeout(function(){S()},10)}),p=t("#lazy-loading-info"),h=t("#lazy-loading-spinner"),u=new ScrollMonitor(t("#lazy-loading-anchor")),PWoSDb.load(l).done(function(t){d=t,w()}).fail(function(){h.addClass("hidden"),t("#content").append(t("<p>").addClass("alert alert-danger").text("Failed to load database"))})},get db(){return d}}}(jQuery);