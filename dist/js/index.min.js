var PWOS_VERSION=1515079502,PWOS_DATE="20180104_162502";"undefined"==typeof window&&(exports.PWOS_VERSION=PWOS_VERSION,exports.PWOS_DATE=PWOS_DATE);var ScrollMonitor=function(t){t&&(this.uid=++ScrollMonitor.uid,this.$element=t)};ScrollMonitor.uid=0,ScrollMonitor.prototype.isMonitoring=!1,ScrollMonitor.prototype.uid=0,ScrollMonitor.prototype.$element=null,ScrollMonitor.prototype._isScrolledTo=function(){let t=this.$element.offset().top;return $(window).scrollTop()+$(window).height()>t},ScrollMonitor.prototype.start=function(){this.uid&&!this.isMonitoring&&(this.isMonitoring=!0,$(window).on("scroll.lazyload-"+this.uid,function(){this._isScrolledTo(this.$element)&&(this.stop(),$(window).trigger("scrolled-to",[this.$element,this]))}.bind(this)))},ScrollMonitor.prototype.stop=function(){this.uid&&this.isMonitoring&&(this.isMonitoring=!1,$(window).off("scroll.lazyload-"+this.uid))};var PWoSDb=function(){let t=function(t){this.data=t};t.prototype.filter=function*(t){let e=(t=t||{}).title?new RegExp(t.title,"i"):null,o=t.url?new RegExp(t.url,"i"):null;for(let t of this.data)(!e||t.title&&t.title.match(e))&&(!o||t.url&&t.url.match(o))&&(yield t)};let e=null;return{load:function(o){let i=$.Deferred();return o?($.ajax({type:"GET",dataType:"json",url:o}).done(function(o){o?(e=new t(o),i.resolve(e)):i.reject()}).fail(function(){e=null,i.reject()}),i.promise()):(i.reject(),i.promise())}}}(),PWoS=function(t){const e=30,o=5,i=16,n="data/db.json?v="+PWOS_VERSION,l=["alpha","digit","space","special","case","changeable"],r=t("#sites-list"),a=t("#site-template tr");t(".filter");let s,d,u,c,f,p;function h(t){let e=a.clone().appendTo(r);e.find(".title").text(t.title),e.find("a.url").text(t.url.replace(/^https?\:\/\//i,"")).attr("href",t.url),e.find(".attr.min").text(t.pw.min).toggleClass("text-danger text-bold",t.pw.min<=o),e.find(".attr.max").text(t.pw.max).toggleClass("text-danger text-bold",t.pw.max<=i);for(let o of l){let i=e.find(".attr."+o);t.pw[o]?i.find("i.attr-"+t.pw[o]).removeClass("hidden"):i.find("i.attr-false").removeClass("hidden")}}function g(t){t=t||null,c=s.filter(t),r.empty(),S()}function S(){if(!c)return;let t=c.next(),o=0;for(;t&&!t.done&&t.value&&o<e;)h(t.value),t=c.next(),o++;p.addClass("hidden"),f.toggleClass("invisible",t.done),f.toggleClass("invisible",t.done),t.done?d.stop():d.start()}return{init:function(){t("#last-update").text(new Date(1e3*PWOS_VERSION)),t(".filter").keypress(function(e){13==e.which&&function(t){let e=t.data("filter"),o=t.val();!e||o.length<2&&0!=o.length||((u={})[e]=o,g(u))}(t(this))}),t(window).on("scrolled-to",function(t,e){p.removeClass("hidden"),setTimeout(function(){S()},10)}),f=t("#lazy-loading-info"),p=t("#lazy-loading-spinner"),d=new ScrollMonitor(t("#lazy-loading-anchor")),PWoSDb.load(n).done(function(t){s=t,g()}).fail(function(){p.addClass("hidden"),t("#content").append(t("<p>").addClass("alert alert-danger").text("Failed to load database"))})},get db(){return s}}}(jQuery);